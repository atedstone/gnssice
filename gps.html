
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module gps</title>
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>gps</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/home/s1144267/pyscripts/pygps/gps.py">/home/s1144267/pyscripts/pygps/gps.py</a></font></td></tr></table>
    <p><tt><a href="#Kinematic">Kinematic</a>&nbsp;GPS&nbsp;Processing&nbsp;classes<br>
University&nbsp;of&nbsp;Edinburgh&nbsp;Glaciology/Greenland&nbsp;Research&nbsp;Group<br>
&nbsp;<br>
Classes:<br>
<a href="#RinexConvert">RinexConvert</a>&nbsp;--&nbsp;functionality&nbsp;for&nbsp;converting&nbsp;raw&nbsp;leica&nbsp;mdb&nbsp;files&nbsp;to&nbsp;the&nbsp;<br>
research&nbsp;group&nbsp;rinex&nbsp;file&nbsp;specification.&nbsp;Wrapper&nbsp;to&nbsp;TEQC.<br>
<a href="#Kinematic">Kinematic</a>&nbsp;--&nbsp;wrapper&nbsp;to&nbsp;kinematic&nbsp;GPS&nbsp;processing&nbsp;using&nbsp;Track.<br>
<a href="#PostProcess">PostProcess</a>&nbsp;--&nbsp;concatenation&nbsp;of&nbsp;Track&nbsp;output&nbsp;files,&nbsp;conversion&nbsp;to&nbsp;NEU,&nbsp;etc.<br>
&nbsp;<br>
Functions:<br>
shellcmd&nbsp;--&nbsp;used&nbsp;to&nbsp;run&nbsp;subprocesses&nbsp;through&nbsp;shell.<br>
neighborhood&nbsp;--&nbsp;search&nbsp;behind/current/ahead&nbsp;in&nbsp;list&nbsp;simulataneously&nbsp;(generator).<br>
&nbsp;<br>
Pre-requisites:<br>
As&nbsp;well&nbsp;as&nbsp;all&nbsp;required&nbsp;module&nbsp;imports,&nbsp;TEQC/Gamit/Track&nbsp;must&nbsp;be&nbsp;available<br>
in&nbsp;the&nbsp;environment.<br>
On&nbsp;fleet.geos.ed.ac.uk:<br>
&nbsp;&nbsp;&nbsp;&nbsp;module&nbsp;load&nbsp;applications/gamit/10.4<br>
&nbsp;<br>
More&nbsp;information:<br>
See&nbsp;the&nbsp;instruction&nbsp;file&nbsp;gps_python_instructions.txt.<br>
&nbsp;<br>
Created&nbsp;on&nbsp;Thu&nbsp;Feb&nbsp;02&nbsp;10:50:25&nbsp;2012&nbsp;<br>
&nbsp;<br>
@author:&nbsp;Andrew&nbsp;Tedstone&nbsp;(a.j.tedstone@ed.ac.uk)</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="calendar.html">calendar</a><br>
<a href="datetime.html">datetime</a><br>
<a href="xml.etree.ElementTree.html">xml.etree.ElementTree</a><br>
</td><td width="25%" valign=top><a href="logging.html">logging</a><br>
<a href="math.html">math</a><br>
<a href="matplotlib.html">matplotlib</a><br>
</td><td width="25%" valign=top><a href="numpy.html">numpy</a><br>
<a href="os.html">os</a><br>
<a href="string.html">string</a><br>
</td><td width="25%" valign=top><a href="subprocess.html">subprocess</a><br>
<a href="ajtuseful.html">ajtuseful</a><br>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="gps.html#Kinematic">Kinematic</a>
</font></dt><dt><font face="helvetica, arial"><a href="gps.html#PostProcess">PostProcess</a>
</font></dt><dt><font face="helvetica, arial"><a href="gps.html#RinexConvert">RinexConvert</a>
</font></dt></dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="Kinematic">class <strong>Kinematic</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt><a href="#Kinematic">Kinematic</a>&nbsp;GPS&nbsp;processing&nbsp;functionality,&nbsp;utilising&nbsp;Track&nbsp;and&nbsp;Gamit.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="Kinematic-__init__"><strong>__init__</strong></a>(self)</dt></dl>

<dl><dt><a name="Kinematic-crx2rnx"><strong>crx2rnx</strong></a>(suffix)</dt><dd><tt>Basic&nbsp;wrapper&nbsp;to&nbsp;CRX2RNX,&nbsp;which&nbsp;decompresses&nbsp;*.*d&nbsp;rinex&nbsp;files.<br>
&nbsp;<br>
CRX2RNX&nbsp;must&nbsp;be&nbsp;on&nbsp;system&nbsp;path.<br>
&nbsp;<br>
Inputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;suffix&nbsp;=&nbsp;file&nbsp;suffix,&nbsp;e.g.&nbsp;11d&nbsp;for&nbsp;2011&nbsp;compressed&nbsp;files.<br>
Outputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;none.</tt></dd></dl>

<dl><dt><a name="Kinematic-get_orbits"><strong>get_orbits</strong></a>(self, year, start_doy, end_doy, clearup<font color="#909090">=True</font>)</dt><dd><tt>Download&nbsp;daily&nbsp;IGS&nbsp;sp3&nbsp;orbit&nbsp;files&nbsp;and&nbsp;overlap&nbsp;them.<br>
&nbsp;<br>
Each&nbsp;resulting&nbsp;overlapped&nbsp;file&nbsp;contains&nbsp;the&nbsp;previous&nbsp;day,&nbsp;the&nbsp;current<br>
day,&nbsp;and&nbsp;the&nbsp;next&nbsp;day.<br>
&nbsp;<br>
Do&nbsp;not&nbsp;try&nbsp;to&nbsp;download&nbsp;orbits&nbsp;spanning&nbsp;two&nbsp;years&nbsp;-&nbsp;only&nbsp;run&nbsp;on&nbsp;a&nbsp;<br>
per-yearly&nbsp;basis.<br>
&nbsp;<br>
If&nbsp;clearup=True,&nbsp;the&nbsp;un-overlapped&nbsp;files&nbsp;will&nbsp;be&nbsp;deleted&nbsp;afterwards&nbsp;and<br>
overlapped&nbsp;files&nbsp;moved&nbsp;into&nbsp;the&nbsp;main&nbsp;directory.&nbsp;Otherwise,&nbsp;they&nbsp;will<br>
remain&nbsp;in&nbsp;cat_sp3/.</tt></dd></dl>

<dl><dt><a name="Kinematic-read_track_file"><strong>read_track_file</strong></a>(self, fname)</dt><dd><tt>Reads&nbsp;the&nbsp;data&nbsp;from&nbsp;track&nbsp;files&nbsp;output&nbsp;in&nbsp;either&nbsp;NEU&nbsp;or&nbsp;GEOD.<br>
&nbsp;<br>
Inputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;fname&nbsp;-&nbsp;the&nbsp;path&nbsp;and&nbsp;name&nbsp;of&nbsp;the&nbsp;file&nbsp;to&nbsp;read&nbsp;in.&nbsp;<br>
Outputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;data&nbsp;-&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;lists,&nbsp;keyed&nbsp;by&nbsp;column&nbsp;name.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
N.b.&nbsp;NotFK&nbsp;provides&nbsp;the&nbsp;letter&nbsp;identifier&nbsp;associated&nbsp;with&nbsp;NotF.&nbsp;In&nbsp;matlab<br>
these&nbsp;two&nbsp;'columns'&nbsp;seem&nbsp;either&nbsp;to&nbsp;appear&nbsp;as&nbsp;one,&nbsp;or&nbsp;the&nbsp;letter&nbsp;identifier<br>
doesn't&nbsp;get&nbsp;read&nbsp;in&nbsp;at&nbsp;all&nbsp;-&nbsp;not&nbsp;sure&nbsp;which....&nbsp;(AJT&nbsp;8/Feb/2012)</tt></dd></dl>

<dl><dt><a name="Kinematic-track"><strong>track</strong></a>(self, base, rover, doy_start, doy_end)</dt><dd><tt>Wrapper&nbsp;to&nbsp;track.<br>
&nbsp;<br>
This&nbsp;must&nbsp;be&nbsp;used&nbsp;interactively&nbsp;as&nbsp;the&nbsp;user&nbsp;checks&nbsp;every&nbsp;day's<br>
outputs,&nbsp;reprocessing&nbsp;with&nbsp;different&nbsp;parameters&nbsp;if&nbsp;necessary.<br>
&nbsp;<br>
A&nbsp;log&nbsp;file&nbsp;for&nbsp;each&nbsp;rover&nbsp;is&nbsp;also&nbsp;created&nbsp;which&nbsp;contains&nbsp;a&nbsp;summary&nbsp;of&nbsp;the<br>
processing&nbsp;parameters&nbsp;used,&nbsp;together&nbsp;with&nbsp;user&nbsp;assessment&nbsp;of&nbsp;quality<br>
and&nbsp;any&nbsp;further&nbsp;comments.<br>
&nbsp;<br>
Note&nbsp;that&nbsp;any&nbsp;-ve&nbsp;signs&nbsp;on&nbsp;APR&nbsp;coordinates&nbsp;extracted&nbsp;from&nbsp;the&nbsp;previous<br>
day's&nbsp;files&nbsp;will&nbsp;be&nbsp;removed&nbsp;as&nbsp;track&nbsp;cannot&nbsp;cope&nbsp;with&nbsp;these&nbsp;being<br>
provided&nbsp;in&nbsp;the&nbsp;command&nbsp;line&nbsp;arguments.&nbsp;The&nbsp;negative&nbsp;sign&nbsp;must<br>
be&nbsp;put&nbsp;in&nbsp;the&nbsp;site-specific&nbsp;track&nbsp;cmd&nbsp;file.<br>
&nbsp;<br>
Cmd&nbsp;files&nbsp;are&nbsp;named&nbsp;as&nbsp;track_&lt;base&gt;.cmd<br>
&nbsp;<br>
Inputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;base:&nbsp;4-character&nbsp;identifier&nbsp;of&nbsp;static&nbsp;base&nbsp;station.<br>
&nbsp;&nbsp;&nbsp;&nbsp;rover:&nbsp;4-character&nbsp;identifier&nbsp;of&nbsp;moving&nbsp;(on-ice?)&nbsp;GPS&nbsp;station.<br>
&nbsp;&nbsp;&nbsp;&nbsp;doy_start:&nbsp;day&nbsp;of&nbsp;year&nbsp;to&nbsp;start&nbsp;on.<br>
&nbsp;&nbsp;&nbsp;&nbsp;doy_end:&nbsp;day&nbsp;of&nbsp;year&nbsp;to&nbsp;end&nbsp;on.<br>
Outputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;None.</tt></dd></dl>

<dl><dt><a name="Kinematic-view_track_output"><strong>view_track_output</strong></a>(self, base, rover, doy, gtype<font color="#909090">='NEU'</font>, fname<font color="#909090">=None</font>)</dt><dd><tt>Display&nbsp;a&nbsp;scatter&nbsp;plot&nbsp;of&nbsp;reconciled&nbsp;daily&nbsp;track&nbsp;data.<br>
&nbsp;<br>
Inputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;base:&nbsp;4-character&nbsp;identifier&nbsp;of&nbsp;base&nbsp;(static)&nbsp;receiver<br>
&nbsp;&nbsp;&nbsp;&nbsp;rover:&nbsp;4-character&nbsp;identifier&nbsp;of&nbsp;moving&nbsp;receiver<br>
&nbsp;&nbsp;&nbsp;&nbsp;doy:&nbsp;day&nbsp;of&nbsp;year&nbsp;to&nbsp;examine<br>
&nbsp;&nbsp;&nbsp;&nbsp;gtype:&nbsp;georeferencing&nbsp;type.&nbsp;Optional.&nbsp;Currently&nbsp;only&nbsp;NEU&nbsp;supported<br>
&nbsp;&nbsp;&nbsp;&nbsp;fname:&nbsp;filename&nbsp;of&nbsp;file.&nbsp;Optional.&nbsp;If&nbsp;not&nbsp;used,&nbsp;the&nbsp;filename&nbsp;will<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;deduced&nbsp;from&nbsp;the&nbsp;other&nbsp;input&nbsp;parameters.<br>
&nbsp;<br>
No&nbsp;outputs.</tt></dd></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="PostProcess">class <strong>PostProcess</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>GPS&nbsp;post-processing&nbsp;class.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="PostProcess-__init__"><strong>__init__</strong></a>(self)</dt></dl>

<dl><dt><a name="PostProcess-concatenate_GEOD"><strong>concatenate_GEOD</strong></a>(self, rover, returnData<font color="#909090">=False</font>, plotData<font color="#909090">=False</font>, appendToFile<font color="#909090">=None</font>)</dt><dd><tt>Draw&nbsp;together&nbsp;all&nbsp;data&nbsp;from&nbsp;specified&nbsp;rover&nbsp;into&nbsp;one&nbsp;file.<br>
&nbsp;<br>
Concatenate&nbsp;all&nbsp;data&nbsp;for&nbsp;a&nbsp;rover&nbsp;into&nbsp;one&nbsp;dat&nbsp;file&nbsp;using&nbsp;specifications<br>
in&nbsp;the&nbsp;rover's&nbsp;config&nbsp;(XML)&nbsp;file.&nbsp;So,&nbsp;data&nbsp;from&nbsp;multiple&nbsp;years&nbsp;are&nbsp;joined<br>
together.<br>
&nbsp;<br>
If&nbsp;a&nbsp;concatenated&nbsp;file&nbsp;for&nbsp;a&nbsp;single&nbsp;year&nbsp;exists&nbsp;in&nbsp;the&nbsp;working&nbsp;directory<br>
then&nbsp;this&nbsp;is&nbsp;used&nbsp;rather&nbsp;than&nbsp;concatenating&nbsp;daily&nbsp;files.<br>
&nbsp;<br>
If&nbsp;a&nbsp;filename&nbsp;is&nbsp;specified&nbsp;in&nbsp;appendToFile&nbsp;then&nbsp;the&nbsp;function&nbsp;will&nbsp;<br>
attempt&nbsp;to&nbsp;read&nbsp;in&nbsp;the&nbsp;data&nbsp;from&nbsp;it.&nbsp;It&nbsp;will&nbsp;not&nbsp;be&nbsp;corrected.&nbsp;<br>
Additional&nbsp;data&nbsp;not&nbsp;in&nbsp;the&nbsp;file&nbsp;will&nbsp;be&nbsp;concatenated&nbsp;and&nbsp;corrected&nbsp;<br>
and&nbsp;a&nbsp;new&nbsp;dat&nbsp;file&nbsp;produced.<br>
&nbsp;<br>
Calculate&nbsp;north,&nbsp;east&nbsp;and&nbsp;up&nbsp;coordinates&nbsp;for&nbsp;each&nbsp;observation.<br>
&nbsp;<br>
Apply&nbsp;corrections&nbsp;listed&nbsp;in&nbsp;the&nbsp;config&nbsp;file.<br>
&nbsp;<br>
Save&nbsp;a&nbsp;file&nbsp;containing&nbsp;the&nbsp;concatenated&nbsp;data.<br>
&nbsp;<br>
Draw&nbsp;a&nbsp;graph&nbsp;of&nbsp;corrected&nbsp;data&nbsp;is&nbsp;plotData=True.<br>
&nbsp;<br>
The&nbsp;Fract&nbsp;DOY&nbsp;column&nbsp;runs&nbsp;continuously&nbsp;through&nbsp;multiple&nbsp;years,<br>
e.g.&nbsp;if&nbsp;there&nbsp;are&nbsp;data&nbsp;from&nbsp;2009&nbsp;and&nbsp;2010&nbsp;then&nbsp;all&nbsp;Fract&nbsp;DOYs&nbsp;in<br>
2010&nbsp;will&nbsp;be&nbsp;+365.<br>
&nbsp;<br>
Inputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;rover:&nbsp;4-character&nbsp;identifier&nbsp;of&nbsp;site&nbsp;to&nbsp;concatenate.<br>
&nbsp;&nbsp;&nbsp;&nbsp;returnData:&nbsp;if&nbsp;true,&nbsp;smap_all_save&nbsp;is&nbsp;returned.<br>
&nbsp;&nbsp;&nbsp;&nbsp;plotData:&nbsp;if&nbsp;true,&nbsp;data&nbsp;are&nbsp;plotted&nbsp;by&nbsp;plot_neu&nbsp;after&nbsp;concatenation.<br>
&nbsp;&nbsp;&nbsp;&nbsp;appendToFile:&nbsp;if&nbsp;a&nbsp;filename,&nbsp;function&nbsp;attempts&nbsp;read&nbsp;data&nbsp;in&nbsp;from&nbsp;it.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Function&nbsp;will&nbsp;not&nbsp;apply&nbsp;any&nbsp;corrections&nbsp;to&nbsp;data&nbsp;already&nbsp;in&nbsp;file.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constituent&nbsp;datasets&nbsp;should&nbsp;still&nbsp;be&nbsp;listed&nbsp;in&nbsp;the&nbsp;config&nbsp;file<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as&nbsp;this&nbsp;information&nbsp;is&nbsp;used&nbsp;to&nbsp;name&nbsp;to&nbsp;output&nbsp;dataset.<br>
Outputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;smap_all_save:&nbsp;only&nbsp;if&nbsp;returnData=True.</tt></dd></dl>

<dl><dt><a name="PostProcess-concatenate_daily_GEOD"><strong>concatenate_daily_GEOD</strong></a>(self, base, rover, year, start_doy<font color="#909090">=1</font>, end_doy<font color="#909090">=366</font>, exclude_doy<font color="#909090">=[]</font>, save_to_file<font color="#909090">=False</font>)</dt><dd><tt>Return&nbsp;one&nbsp;large&nbsp;matrix&nbsp;of&nbsp;all&nbsp;daily&nbsp;files&nbsp;combined&nbsp;within&nbsp;<br>
specified&nbsp;DOY&nbsp;range.<br>
&nbsp;<br>
Inputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;base:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4-letter&nbsp;identifier&nbsp;of&nbsp;base&nbsp;station.<br>
&nbsp;&nbsp;&nbsp;&nbsp;rover:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4-letter&nbsp;identifier&nbsp;of&nbsp;rover&nbsp;(on-ice&nbsp;GPS&nbsp;stake)<br>
&nbsp;&nbsp;&nbsp;&nbsp;year:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Year&nbsp;in&nbsp;which&nbsp;observations&nbsp;made.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;start_doy:&nbsp;&nbsp;&nbsp;Day&nbsp;of&nbsp;year&nbsp;on&nbsp;which&nbsp;to&nbsp;start&nbsp;concatenation<br>
&nbsp;&nbsp;&nbsp;&nbsp;end_doy:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Day&nbsp;of&nbsp;year&nbsp;on&nbsp;which&nbsp;to&nbsp;end&nbsp;concatenation<br>
&nbsp;&nbsp;&nbsp;&nbsp;exclude_doy:&nbsp;List&nbsp;of&nbsp;days&nbsp;to&nbsp;exclude&nbsp;from&nbsp;concatenation,&nbsp;usually<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;because&nbsp;of&nbsp;poor&nbsp;data&nbsp;quality.&nbsp;Optional.<br>
&nbsp;&nbsp;&nbsp;&nbsp;save_to_file:If&nbsp;true&nbsp;a&nbsp;file&nbsp;will&nbsp;be&nbsp;saved&nbsp;with&nbsp;standard&nbsp;filename<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;format.<br>
Outputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;smap_all&nbsp;:&nbsp;&nbsp;&nbsp;Matrix&nbsp;of&nbsp;all&nbsp;concatenated&nbsp;data.&nbsp;Columns&nbsp;are&nbsp;in&nbsp;same<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order&nbsp;as&nbsp;GEOD&nbsp;daily&nbsp;files.</tt></dd></dl>

<dl><dt><a name="PostProcess-ct2lg"><strong>ct2lg</strong></a>(self, dX, dY, dZ, lat, lon)</dt><dd><tt>Converts&nbsp;CT&nbsp;coordinate&nbsp;differences&nbsp;to&nbsp;local&nbsp;geodetic.<br>
&nbsp;<br>
All&nbsp;inputs&nbsp;must&nbsp;be&nbsp;numpy&nbsp;arrays.<br>
&nbsp;<br>
Local&nbsp;origin&nbsp;at&nbsp;lat,lon,h.&nbsp;If&nbsp;lat,lon&nbsp;are&nbsp;vectors,&nbsp;dx,dy,dz<br>
are&nbsp;referenced&nbsp;to&nbsp;origin&nbsp;at&nbsp;lat,lon&nbsp;of&nbsp;same&nbsp;index.&nbsp;If<br>
astronomic&nbsp;lat,lon&nbsp;input,&nbsp;output&nbsp;is&nbsp;in&nbsp;local&nbsp;astronomic<br>
system.&nbsp;Vectorized&nbsp;in&nbsp;both&nbsp;dx,dy,dz&nbsp;and&nbsp;lat,lon.&nbsp;See&nbsp;also<br>
LG2CT.<br>
Version:&nbsp;2011-02-19<br>
Useage:&nbsp;&nbsp;[dx,dy,dz]=<a href="#PostProcess-ct2lg">ct2lg</a>(dX,dY,dZ,lat,lon)<br>
Input:&nbsp;&nbsp;&nbsp;dX&nbsp;&nbsp;-&nbsp;vector&nbsp;of&nbsp;X&nbsp;coordinate&nbsp;differences&nbsp;in&nbsp;CT<br>
&nbsp;dY&nbsp;&nbsp;-&nbsp;vector&nbsp;of&nbsp;Y&nbsp;coordinate&nbsp;differences&nbsp;in&nbsp;CT<br>
&nbsp;dZ&nbsp;&nbsp;-&nbsp;vector&nbsp;of&nbsp;Z&nbsp;coordinate&nbsp;differences&nbsp;in&nbsp;CT<br>
&nbsp;lat&nbsp;-&nbsp;lat(s)&nbsp;of&nbsp;local&nbsp;system&nbsp;origin&nbsp;(rad);&nbsp;may&nbsp;be&nbsp;vector<br>
&nbsp;lon&nbsp;-&nbsp;lon(s)&nbsp;of&nbsp;local&nbsp;system&nbsp;origin&nbsp;(rad);&nbsp;may&nbsp;be&nbsp;vector<br>
Output:&nbsp;&nbsp;dx&nbsp;&nbsp;-&nbsp;vector&nbsp;of&nbsp;x&nbsp;coordinates&nbsp;in&nbsp;local&nbsp;system&nbsp;(north)<br>
&nbsp;dy&nbsp;&nbsp;-&nbsp;vector&nbsp;of&nbsp;y&nbsp;coordinates&nbsp;in&nbsp;local&nbsp;system&nbsp;(east)<br>
&nbsp;dz&nbsp;&nbsp;-&nbsp;vector&nbsp;of&nbsp;z&nbsp;coordinates&nbsp;in&nbsp;local&nbsp;system&nbsp;(ht)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
Ported&nbsp;to&nbsp;Python&nbsp;from&nbsp;original&nbsp;Matlab&nbsp;exchange&nbsp;version...<br>
Copyright&nbsp;(c)&nbsp;2011,&nbsp;Michael&nbsp;R.&nbsp;Craymer&nbsp;<br>
All&nbsp;rights&nbsp;reserved.<br>
Email:&nbsp;mike@craymer.com</tt></dd></dl>

<dl><dt><a name="PostProcess-ell2xyz"><strong>ell2xyz</strong></a>(self, lat, lon, h, a<font color="#909090">=None</font>, e2<font color="#909090">=None</font>)</dt><dd><tt>Convert&nbsp;lat&nbsp;lon&nbsp;height&nbsp;to&nbsp;local&nbsp;north-east-up.<br>
&nbsp;<br>
lat,&nbsp;lon&nbsp;and&nbsp;h&nbsp;must&nbsp;be&nbsp;numpy&nbsp;1-d&nbsp;arrays.<br>
&nbsp;<br>
If&nbsp;a&nbsp;and&nbsp;e2&nbsp;are&nbsp;None&nbsp;then&nbsp;their&nbsp;values&nbsp;will&nbsp;be&nbsp;obtained&nbsp;from&nbsp;the&nbsp;<br>
class&nbsp;variables&nbsp;self.<strong>a</strong>&nbsp;and&nbsp;self.<strong>e2</strong>.<br>
&nbsp;<br>
Based&nbsp;on&nbsp;the&nbsp;matlab&nbsp;exchange&nbsp;function...:<br>
ELL2XYZ&nbsp;&nbsp;Converts&nbsp;ellipsoidal&nbsp;coordinates&nbsp;to&nbsp;cartesian.<br>
Vectorized.<br>
&nbsp;Version:&nbsp;2011-02-19<br>
&nbsp;Useage:&nbsp;&nbsp;[x,y,z]=<a href="#PostProcess-ell2xyz">ell2xyz</a>(lat,lon,h,a,e2)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[x,y,z]=<a href="#PostProcess-ell2xyz">ell2xyz</a>(lat,lon,h)<br>
&nbsp;Input:&nbsp;&nbsp;&nbsp;lat&nbsp;-&nbsp;vector&nbsp;of&nbsp;ellipsoidal&nbsp;latitudes&nbsp;(radians)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lon&nbsp;-&nbsp;vector&nbsp;of&nbsp;ellipsoidal&nbsp;E&nbsp;longitudes&nbsp;(radians)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h&nbsp;&nbsp;&nbsp;-&nbsp;vector&nbsp;of&nbsp;ellipsoidal&nbsp;heights&nbsp;(m)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&nbsp;&nbsp;-&nbsp;ref.&nbsp;ellipsoid&nbsp;major&nbsp;semi-axis&nbsp;(m);&nbsp;default&nbsp;GRS80<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e2&nbsp;&nbsp;-&nbsp;ref.&nbsp;ellipsoid&nbsp;eccentricity&nbsp;squared;&nbsp;default&nbsp;GRS80<br>
&nbsp;Output:&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;&nbsp;&gt;&nbsp;vectors&nbsp;of&nbsp;cartesian&nbsp;coordinates&nbsp;in&nbsp;CT&nbsp;system&nbsp;(m)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;/<br>
&nbsp;<br>
&nbsp;Copyright&nbsp;(c)&nbsp;2011,&nbsp;Michael&nbsp;R.&nbsp;Craymer&nbsp;Email:&nbsp;mike@craymer.com</tt></dd></dl>

<dl><dt><a name="PostProcess-plot_neu"><strong>plot_neu</strong></a>(self, dneui, labels, titlestr, savestr, display<font color="#909090">=True</font>)</dt><dd><tt>Plot&nbsp;north,&nbsp;east&nbsp;and&nbsp;up&nbsp;coordinates&nbsp;in&nbsp;separate&nbsp;figures.<br>
&nbsp;<br>
4&nbsp;figures&nbsp;are&nbsp;plotted:&nbsp;north&nbsp;v.&nbsp;east,&nbsp;north&nbsp;v.&nbsp;time,&nbsp;east&nbsp;v.&nbsp;time,<br>
up&nbsp;v.&nbsp;time.<br>
&nbsp;<br>
Each&nbsp;dataset&nbsp;is&nbsp;plotted&nbsp;in&nbsp;a&nbsp;different&nbsp;colour.&nbsp;The&nbsp;labels&nbsp;list&nbsp;must<br>
have&nbsp;the&nbsp;same&nbsp;number&nbsp;of&nbsp;elements&nbsp;as&nbsp;the&nbsp;number&nbsp;of&nbsp;datasets&nbsp;supplied.<br>
&nbsp;<br>
Inputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;neui:&nbsp;numpy&nbsp;array.&nbsp;Columns:&nbsp;doy,&nbsp;north,&nbsp;east,&nbsp;up,&nbsp;dataset&nbsp;id.<br>
&nbsp;&nbsp;&nbsp;&nbsp;labels:&nbsp;the&nbsp;label/description&nbsp;associated&nbsp;with&nbsp;each&nbsp;dataset&nbsp;id.<br>
&nbsp;&nbsp;&nbsp;&nbsp;titlestr&nbsp;:&nbsp;string&nbsp;to&nbsp;add&nbsp;to&nbsp;title,&nbsp;e.g.&nbsp;lev1&nbsp;2009-2011.<br>
&nbsp;&nbsp;&nbsp;&nbsp;savestr&nbsp;:&nbsp;filename&nbsp;prefix&nbsp;for&nbsp;each&nbsp;graph.&nbsp;The&nbsp;plot&nbsp;type,&nbsp;e.g.<br>
&nbsp;&nbsp;&nbsp;&nbsp;north-east,&nbsp;is&nbsp;appended&nbsp;by&nbsp;this&nbsp;function,&nbsp;as&nbsp;is&nbsp;the&nbsp;file&nbsp;type.<br>
&nbsp;&nbsp;&nbsp;&nbsp;display:&nbsp;if&nbsp;true,&nbsp;figure&nbsp;windows&nbsp;will&nbsp;be&nbsp;drawn&nbsp;on&nbsp;screen&nbsp;as&nbsp;well<br>
&nbsp;&nbsp;&nbsp;&nbsp;as&nbsp;saved.&nbsp;<br>
Outputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;null.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Saves&nbsp;4&nbsp;figures.</tt></dd></dl>

</td></tr></table> <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="RinexConvert">class <strong>RinexConvert</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Accomplish&nbsp;Rinex&nbsp;file&nbsp;processing&nbsp;from&nbsp;Leica&nbsp;MDB&nbsp;files.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="RinexConvert-__init__"><strong>__init__</strong></a>(self)</dt><dd><tt>Initialise&nbsp;class&nbsp;variables.</tt></dd></dl>

<dl><dt><a name="RinexConvert-leica2rinex"><strong>leica2rinex</strong></a>(self, input_file, site, output_file)</dt><dd><tt>Convert&nbsp;a&nbsp;leica&nbsp;mdb&nbsp;file&nbsp;to&nbsp;a&nbsp;rinex&nbsp;file.&nbsp;A&nbsp;simple&nbsp;wrapper&nbsp;to&nbsp;teqc.<br>
&nbsp;<br>
Whilst&nbsp;this&nbsp;will&nbsp;convert&nbsp;very&nbsp;large&nbsp;single&nbsp;mdb&nbsp;files,&nbsp;be&nbsp;aware<br>
that&nbsp;the&nbsp;resulting&nbsp;rinex&nbsp;files&nbsp;may&nbsp;not&nbsp;be&nbsp;usable!&nbsp;There&nbsp;appears&nbsp;to&nbsp;be<br>
a&nbsp;size&nbsp;limit,&nbsp;maybe&nbsp;around&nbsp;2.5Gb.&nbsp;You&nbsp;can&nbsp;use&nbsp;window_overlap&nbsp;to&nbsp;produce<br>
daily&nbsp;rinex&nbsp;files&nbsp;from&nbsp;the&nbsp;single&nbsp;mdb&nbsp;file&nbsp;instead.</tt></dd></dl>

<dl><dt><a name="RinexConvert-leica_joindaily"><strong>leica_joindaily</strong></a>(self, input_file_prefix, site, moving<font color="#909090">=1</font>)</dt><dd><tt>Convert&nbsp;daily&nbsp;leica&nbsp;files&nbsp;to&nbsp;rinex&nbsp;and&nbsp;join&nbsp;together&nbsp;into&nbsp;one&nbsp;big&nbsp;file.<br>
&nbsp;<br>
If&nbsp;the&nbsp;series&nbsp;of&nbsp;files&nbsp;contain&nbsp;data&nbsp;from&nbsp;more&nbsp;than&nbsp;one&nbsp;year,&nbsp;one&nbsp;big<br>
file&nbsp;will&nbsp;be&nbsp;generated&nbsp;for&nbsp;each&nbsp;file,&nbsp;according&nbsp;to&nbsp;the&nbsp;rinex&nbsp;filenaming<br>
convention.<br>
&nbsp;<br>
The&nbsp;series&nbsp;of&nbsp;files&nbsp;(i.e.&nbsp;all&nbsp;those&nbsp;with&nbsp;the&nbsp;same&nbsp;file_prefix)&nbsp;must&nbsp;all<br>
have&nbsp;been&nbsp;recorded&nbsp;at&nbsp;the&nbsp;same&nbsp;site&nbsp;(monument).&nbsp;The&nbsp;site&nbsp;name&nbsp;will<br>
be&nbsp;set&nbsp;as&nbsp;the&nbsp;monument&nbsp;name&nbsp;in&nbsp;the&nbsp;resulting&nbsp;rinex&nbsp;files.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Inputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;input_file_prefix:&nbsp;the&nbsp;filename&nbsp;common&nbsp;to&nbsp;all&nbsp;files&nbsp;in&nbsp;the&nbsp;series&nbsp;-&nbsp;it<br>
&nbsp;&nbsp;&nbsp;&nbsp;comes&nbsp;before&nbsp;the&nbsp;file&nbsp;ending,&nbsp;i.e.&nbsp;&lt;file_prefix&gt;.YYo.&nbsp;Required.<br>
&nbsp;&nbsp;&nbsp;&nbsp;site:&nbsp;4-letter&nbsp;site&nbsp;identifier.&nbsp;Required.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;moving:&nbsp;1&nbsp;if&nbsp;site&nbsp;moving,&nbsp;0&nbsp;if&nbsp;static.&nbsp;Default&nbsp;is&nbsp;1.<br>
Outputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;joined_files:&nbsp;list&nbsp;of&nbsp;filenames&nbsp;of&nbsp;created&nbsp;joined&nbsp;files.</tt></dd></dl>

<dl><dt><a name="RinexConvert-window_overlap"><strong>window_overlap</strong></a>(self, input_file, st_offset, dh, leica<font color="#909090">=False</font>, site<font color="#909090">=False</font>, moving<font color="#909090">=1</font>, start_date<font color="#909090">=False</font>, end_date<font color="#909090">=False</font>)</dt><dd><tt>Split&nbsp;one&nbsp;large&nbsp;rinex&nbsp;file&nbsp;into&nbsp;windowed&nbsp;files.<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
Inputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;input_file:&nbsp;filename&nbsp;of&nbsp;the&nbsp;rinex&nbsp;file&nbsp;to&nbsp;split&nbsp;into&nbsp;windowed&nbsp;files.<br>
&nbsp;&nbsp;&nbsp;&nbsp;st_offset:&nbsp;The&nbsp;time&nbsp;by&nbsp;which&nbsp;to&nbsp;offset&nbsp;from&nbsp;midnight.&nbsp;Include&nbsp;minus<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sign&nbsp;if&nbsp;necessary.&nbsp;Eg.&nbsp;-22:00:00&nbsp;starts&nbsp;processing&nbsp;at&nbsp;10pm&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;on&nbsp;day&nbsp;before.<br>
&nbsp;&nbsp;&nbsp;&nbsp;dh:&nbsp;duration&nbsp;of&nbsp;window&nbsp;in&nbsp;hours.&nbsp;E.g.&nbsp;28.<br>
&nbsp;&nbsp;&nbsp;&nbsp;leica:&nbsp;set&nbsp;to&nbsp;true&nbsp;if&nbsp;input&nbsp;file&nbsp;is&nbsp;in&nbsp;raw&nbsp;leica&nbsp;format.&nbsp;If&nbsp;true,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;also&nbsp;provide...<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;site:&nbsp;recording&nbsp;site&nbsp;4-character&nbsp;identifier.&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;moving:&nbsp;Is&nbsp;the&nbsp;site&nbsp;moving&nbsp;or&nbsp;static?&nbsp;1&nbsp;if&nbsp;moving,&nbsp;0&nbsp;if&nbsp;static.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Defaults&nbsp;to&nbsp;1&nbsp;(moving)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_date:&nbsp;date&nbsp;to&nbsp;start&nbsp;processing&nbsp;from.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end_date:&nbsp;date&nbsp;to&nbsp;end&nbsp;processing&nbsp;at.&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Supply&nbsp;dates&nbsp;in&nbsp;format&nbsp;[yyyy,m,d].<br>
&nbsp;&nbsp;&nbsp;&nbsp;<br>
E.g.&nbsp;Process&nbsp;from&nbsp;a&nbsp;raw&nbsp;leica&nbsp;file:<br>
&nbsp;&nbsp;&nbsp;&nbsp;rinex_window_overlap("leica-file.m00","-22:00:00",28,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;leica=True,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;site="levb",&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_date=[2011,5,1],end_date=[2011,8,15])<br>
E.g.&nbsp;Process&nbsp;from&nbsp;a&nbsp;rinex&nbsp;file:<br>
&nbsp;&nbsp;&nbsp;&nbsp;rinex_window_overlap("rinexfile.11o","-22:00:00",28)<br>
&nbsp;<br>
&nbsp;<br>
Outputs:<br>
&nbsp;&nbsp;&nbsp;&nbsp;No&nbsp;outputs&nbsp;at&nbsp;present.</tt></dd></dl>

</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-neighborhood"><strong>neighborhood</strong></a>(iterable)</dt><dd><tt>Enables&nbsp;return&nbsp;of&nbsp;previous&nbsp;and&nbsp;next&nbsp;items&nbsp;in&nbsp;list.&nbsp;Used&nbsp;by&nbsp;read_orbits.<br>
&nbsp;<br>
From&nbsp;<a href="http://stackoverflow.com/questions/323750/how-to-access-previous-next-element-while-for-looping">http://stackoverflow.com/questions/323750/how-to-access-previous-next-element-while-for-looping</a></tt></dd></dl>
 <dl><dt><a name="-shellcmd"><strong>shellcmd</strong></a>(cmd)</dt><dd><tt>A&nbsp;general&nbsp;wrapper&nbsp;to&nbsp;the&nbsp;Popen&nbsp;command,&nbsp;running&nbsp;through&nbsp;the&nbsp;shell.<br>
Returns&nbsp;stdout&nbsp;and&nbsp;stderr&nbsp;in&nbsp;dictionary,&nbsp;which&nbsp;should&nbsp;be&nbsp;checked.</tt></dd></dl>
</td></tr></table>
</body></html>